language: python
script:
  - tox
before_install:
  - openssl version
cache:
  directories:
  - ${HOME}/.cache
install:
  - pip install tox==2.1.1 tox-travis
  - if [[ "${TOXENV}" == "gae" && ! -d ${GAE_PYTHONPATH} ]]; then
      python _travis/fetch_gae_sdk.py ;
    fi
notifications:
  email: false
env:
  global:
    - GAE_PYTHONPATH=${HOME}/.cache/google_appengine
    - PYTHONWARNINGS=always::DeprecationWarning
python:
  - 2.6
  - 2.7
  - 3.3
  - 3.4
  - 3.5
  - nightly
  - pypy-5.3
  - pypy3.3-5.2-alpha1
matrix:
  include:
    - python: 3.4
      env: TOXENV=flake8-py3
    - python: 2.7
      env: TOXENV=gae
sudo: false
